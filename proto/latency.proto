syntax = "proto3";

package latency;

option go_package = "latency_poc/internal/latencypb;latencypb";

message LatencyRequest {
  uint64 id = 1;
  int64 sent_at_ns = 2;
}

message LatencyResponse {
  uint64 id = 1;
  int64 sent_at_ns = 2;
  int64 client_received_at_ns = 3;
  int64 server_received_at_ns = 4;
  int64 rtt_ns = 5;
}

service LatencyService {
  rpc Measure(stream LatencyRequest) returns (stream LatencyResponse);
}
